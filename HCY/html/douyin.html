<!DOCTYPE html>
<html>

<head>
    <title>抖音热歌榜</title>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <link rel="stylesheet" type="text/css" href="../css/aui.css" />
    <style type="text/css">
    /*.aui-list .aui-list-item-media {
        width: 6rem;*/
    }

        html,body {
            width:100%;
            height: 100%;
        }

        body {
            width:100%;
            background-color: #fff;
            margin: 0;
        }

        .music_list {
            font-size: 150%;
            width:100%;
        }
		    .aui-list-item-title{
      			font-size: 100%;
      			border:none;
      			background-color: white;
		    }
        /*上一曲*/
        #previous{
          width:40px;
          height:40px;
        }
        /*播放暂停*/
        #playstop{
          width:36px;
          height:36px;
        }
        /*下一曲*/
        #next{
          width:40px;
          height:40px;
        }
        /*界面*/
        #jiemian{
          width:40px;
          heigth:40px;
        }

        .foot{
          width:100%;
          height:45px;
          position:fixed;
          bottom:0;
        }

        #Ne{
          float:right;
          width:51px;
          height:51px;
        }

        #Pl{
          float:right;
          width:51px;
          height:51px;
        }

        #Pr{
          float:right;
          width:51px;
          height:51px;
		    }
    </style>
</head>

<body>
  <header class="aui-bar aui-bar-nav" id="aui-header">
      <a class="aui-btn aui-pull-left" tapmode onclick="window.location.href='frame1_frm.html',stop()">
          <span class="aui-iconfont aui-icon-left"></span>
      </a>
      <div class="aui-title">抖音热歌榜</div>
  </header>
    <div class = "music_list">
      <!--歌单-->
      <ul class="aui-list aui-list-noborder">
          <li class="aui-list-item">
            <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="527601001" onclick="fun1(this.id);selectMusic1();" type="button" value="少年  --邹玲儿">
            <button onclick="fun(this.id)" id="527601001">收藏</button>
		  </div>
      </li>
      <ul class="aui-list aui-list-noborder">
          <li class="aui-list-item">
            <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="1400256289" onclick="fun1(this.id);selectMusic2();" type="button" value="你的答案 --阿冗">
          <button onclick="fun(this.id)" id="1400256289">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="562598081" onclick="fun1(this.id);selectMusic3();" type="button" value="房间  --刘瑞琦">
          <button onclick="fun(this.id)" id="562598081">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="413812448" onclick="fun1(this.id);selectMusic4();" type="button" value="大鱼  --周深">
          <button onclick="fun(this.id)" id="413812448">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="29004400" onclick="fun1(this.id);selectMusic5();" type="button" value="烟火里的尘埃   --华晨宇">
          <button onclick="fun(this.id)" id="29004400">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="298213" onclick="fun1(this.id);selectMusic6();" type="button" value="夏天的风  --温岚">
          <button onclick="fun(this.id)" id="298213">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="1338695683" onclick="fun1(this.id);selectMusic7();" type="button" value="起风了  --吴青峰">
          <button onclick="fun(this.id)" id="1338695683">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="574921549" onclick="fun1(this.id);selectMusic8();" type="button" value="怪咖  --薛之谦">
          <button onclick="fun(this.id)" id="574921549">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="557584888" onclick="fun1(this.id);selectMusic9();" type="button" value="往后余生   --马良">
          <button onclick="fun(this.id)" id="557584888">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="1359595520" onclick="fun1(this.id);selectMusic10();" type="button" value="大碗宽面 --吴亦凡">
          <button onclick="fun(this.id)" id="1359595520">收藏</button>
		  </div>
      </li>
		</div>

    <!--页脚-->
    <div class = "foot">
      <div id="Ne">
        <img id = "next" src="../image/xia.png" onclick="musicNext()">
      </div>
      <div id="Pl">
        <img id= "playstop" src="../image/bofang.png" onclick="musicPlayPause()">
      </div>
      <div id="Pr">
        <img id = "previous" src="../image/shang.png" onclick="musicPrevious()">
      </div>
      <div id="interface">
        <img id = "jiemian" src="../image/jie.png" onclick="show()">
      </div>
    </div>

</body>
<script>
    var demo;

    /*function reloadPage(){
        location.reload();
    }*/

    function stop(){
        demo.stopMusic();
    }

    function getCurrentPlayer() {
        demo.getCurrentPlayer();
    }

    function selectMusic1() {
        netplay();
        demo.selectMusic({
            other:1
        });
    }

    function selectMusic2() {
        netplay();
        demo.selectMusic({
            other:2
        });
    }

    function selectMusic3() {
        netplay();
        demo.selectMusic({
            other:3
        });
    }

    function selectMusic4() {
        netplay();
        demo.selectMusic({
            other:4
        });
    }

    function selectMusic5() {
        netplay();
        demo.selectMusic({
            other:5
        });
    }

    function selectMusic6() {
        netplay();
        demo.selectMusic({
            other:6
        });
    }

    function selectMusic7() {
        netplay();
        demo.selectMusic({
            other:7
        });
    }

    function selectMusic8() {
        netplay();
        demo.selectMusic({
            other:8
        });
    }

    function selectMusic9() {
        netplay();
        demo.selectMusic({
            other:9
        });
    }

    function selectMusic10() {
        netplay();
        demo.selectMusic({
            other:10
        });
    }

    function netplay() {
        demo.playMusic({
            musics: [{
                name: "少年",
                filename: "http://music.163.com/song/media/outer/url?id=527601001.mp3",
                singer: "邹玲儿",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 1,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            }, {
                name: "你的答案",
                filename: "http://music.163.com/song/media/outer/url?id=1400256289.mp3",
                singer: "阿冗",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 2,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "房间",
                filename: "http://music.163.com/song/media/outer/url?id=562598081.mp3",
                singer: "刘瑞琦",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 3,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "大鱼",
                filename: "http://music.163.com/song/media/outer/url?id=413812448.mp3",
                singer: "周深",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 4,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "烟火里的尘埃",
                filename: "http://music.163.com/song/media/outer/url?id=29004400.mp3",
                singer: "华晨宇",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 5,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "夏天的风",
                filename: "http://music.163.com/song/media/outer/url?id=298213.mp3",
                singer: "温岚",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 6,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "起风了",
                filename: "http://music.163.com/song/media/outer/url?id=1338695683.mp3",
                singer: "吴青峰",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 7,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "怪咖",
                filename: "http://music.163.com/song/media/outer/url?id=574921549.mp3",
                singer: "薛之谦",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 8,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "往后余生",
                filename: "http://music.163.com/song/media/outer/url?id=557584888.mp3",
                singer: "马良",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 9,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            }, {
                name: "大碗宽面",
                filename: "http://music.163.com/song/media/outer/url?id=1359595520.mp3",
                singer: "吴亦凡",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 10,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            }],
            ttf: "widget://res/UKIJTor.ttf",
            downmusicBtn: false,
            fenxiangBtn: true,
            pinglunBtn: true,
            nameTextSize: 20,
            singerTextSize: 16,
            isShowUi: false
        }, function(ret, err) {});
    }

    function show() {
        demo.showUI();
    }

    function close() {
        demo.closeUI();
    }

    function stop() {
        demo.stopMusic();
    }

    function musicPrevious() {
        netplay();
        demo.musicPrevious();
    }


    function musicPlayPause() {
        netplay();
        demo.musicPlayPause();
    }

    function musicNext() {
        netplay();
        demo.musicNext();
    }

    function apiready() {
        demo = api.require('uimusic');
        demo.addEventListener({
            name: "closeui"
        });
        demo.addEventListener({
            name: "pinglun"
        });
        demo.addEventListener({
            name: "fenxiang"
        });
        demo.addEventListener({
            name: "downmusic"
        });

        demo.addEventListener({
            name: "sharetop"
        });
    }
</script>

</html>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript">
// var url=location.search;
// var loc=url.substring(url.lastIndexOf('=')+1,url.length);
var loc=localStorage.getItem('userId');
//插入-可行
function fun(id){
  var myid = id;
  var model=api.require('model');
  model.config({
    appId : 'A6036872544676',
    appKey : '075A132B-2B11-505D-F01E-FA8B51604C1B',
    host : 'https://d.apicloud.com'
  });
  model.insert({
      class: 'like',
      value: {userId:loc,music_id:myid}
  },function(ret,err){
    if(ret){
      alert("收藏成功");
    }
  });

}
function fun1(id){
  var myid = id;
  var model=api.require('model');
  model.config({
    appId : 'A6036872544676',
    appKey : '075A132B-2B11-505D-F01E-FA8B51604C1B',
    host : 'https://d.apicloud.com'
  });
  model.insert({
      class: 'recent',
      value: {userId:loc,music_id:myid}
  });
}
</script>
