<!DOCTYPE html>
<html>

<head>
    <title>轻音乐</title>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <link rel="stylesheet" type="text/css" href="../css/aui.css" />
    <style type="text/css">
        html,body {
            width:100%;
            height: 100%;
        }

        body {
            width:100%;
            background-color: #fff;
            margin: 0;
        }

        .music_list {
            font-size: 150%;
            width:100%;
        }
		    .aui-list-item-title{
      			font-size: 100%;
      			border:none;
      			background-color: white;
		    }
        /*上一曲*/
        #previous{
          width:40px;
          height:40px;
        }
        /*播放暂停*/
        #playstop{
          width:36px;
          height:36px;
        }
        /*下一曲*/
        #next{
          width:40px;
          height:40px;
        }
        /*界面*/
        #jiemian{
          width:40px;
          heigth:40px;
        }

        .foot{
          width:100%;
          height:45px;
          position:fixed;
          bottom:0;
        }

        #Ne{
          float:right;
          width:51px;
          height:51px;
        }

        #Pl{
          float:right;
          width:51px;
          height:51px;
        }

        #Pr{
          float:right;
          width:51px;
          height:51px;
		    }
    </style>
</head>

<body>
  <header class="aui-bar aui-bar-nav" id="aui-header">
      <a class="aui-btn aui-pull-left" tapmode onclick="window.location.href='frame2_frm.html'">
          <span class="aui-iconfont aui-icon-left"></span>
      </a>
      <div class="aui-title">轻音乐</div>
  </header>
    <div class = "music_list">
      <!--歌单-->
      <ul class="aui-list aui-list-noborder">
          <li class="aui-list-item">
            <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="32102855" onclick="selectMusic1()" type="button" value="Last Reunion --Peter Roe">
            <button onclick="fun(this.id)" id="32102855">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="3932159" onclick="selectMusic2()" type="button" value="You --Approaching Nirvana">
            <button onclick="fun(this.id)" id="3932159">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="857896" onclick="selectMusic3()" type="button" value="A Little Story  --Valentin">
            <button onclick="fun(this.id)" id="857896">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="4017240" onclick="selectMusic4()" type="button" value="Intro  --Dreamtale">
            <button onclick="fun(this.id)" id="4017240">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="2061452" onclick="selectMusic5()" type="button" value="The Right Path  --Thomas Greenberg">
            <button onclick="fun(this.id)" id="2061452">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="480353" onclick="selectMusic6()" type="button" value="いつも何度でも  --宗次郎">
            <button onclick="fun(this.id)" id="480353">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="402073046" onclick="selectMusic7()" type="button" value="Last Reunion  --EpicMusicVn">
            <button onclick="fun(this.id)" id="402073046">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="586299" onclick="selectMusic8()" type="button" value="風の住む街  --磯村由紀子">
            <button onclick="fun(this.id)" id="586299">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="32166628" onclick="selectMusic9()" type="button" value="Summertime  --K-391">
            <button onclick="fun(this.id)" id="32166628">收藏</button>
		  </div>
    </li>
    <ul class="aui-list aui-list-noborder">
        <li class="aui-list-item">
          <div class="aui-list-item-inner">
          <input class="aui-list-item-title" id="3935139" onclick="selectMusic10()" type="button" value="Breath and Life --Audiomachine">
            <button onclick="fun(this.id)" id="3935139">收藏</button>
		  </div>
    </li>
		</div>

    <!--页脚-->
    <div class = "foot">
      <div id="Ne">
        <img id = "next" src="../image/xia.png" onclick="musicNext()">
      </div>
      <div id="Pl">
        <img id= "playstop" src="../image/bofang.png" onclick="musicPlayPause()">
      </div>
      <div id="Pr">
        <img id = "previous" src="../image/shang.png" onclick="musicPrevious()">
      </div>
      <div id="interface">
        <img id = "jiemian" src="../image/jie.png" onclick="show()">
      </div>
    </div>

</body>
<script>
    var demo;

    function getCurrentPlayer() {
        demo.getCurrentPlayer(function(ret, err) {
            alert("getCurrentPlayer|" + JSON.stringify(ret));
        });
    }

    function selectMusic1() {
        netplay();
        demo.selectMusic({
            other:1
        }, function(ret, err) {
            alert("selectMusic|" + JSON.stringify(ret));
        });
    }

    function selectMusic2() {
        netplay();
        demo.selectMusic({
            other:2
        }, function(ret, err) {
            alert("selectMusic|" + JSON.stringify(ret));
        });
    }

    function selectMusic3() {
        netplay();
        demo.selectMusic({
            other:3
        }, function(ret, err) {
            alert("selectMusic|" + JSON.stringify(ret));
        });
    }

    function selectMusic4() {
        netplay();
        demo.selectMusic({
            other:4
        }, function(ret, err) {
            alert("selectMusic|" + JSON.stringify(ret));
        });
    }

    function selectMusic5() {
        netplay();
        demo.selectMusic({
            other:5
        }, function(ret, err) {
            alert("selectMusic|" + JSON.stringify(ret));
        });
    }

    function selectMusic6() {
        netplay();
        demo.selectMusic({
            other:6
        }, function(ret, err) {
            alert("selectMusic|" + JSON.stringify(ret));
        });
    }

    function selectMusic7() {
        netplay();
        demo.selectMusic({
            other:7
        }, function(ret, err) {
            alert("selectMusic|" + JSON.stringify(ret));
        });
    }

    function selectMusic8() {
        netplay();
        demo.selectMusic({
            other:8
        }, function(ret, err) {
            alert("selectMusic|" + JSON.stringify(ret));
        });
    }

    function selectMusic9() {
        netplay();
        demo.selectMusic({
            other:9
        }, function(ret, err) {
            alert("selectMusic|" + JSON.stringify(ret));
        });
    }

    function selectMusic10() {
        netplay();
        demo.selectMusic({
            other:10
        }, function(ret, err) {
            alert("selectMusic|" + JSON.stringify(ret));
          });
      }

    function netplay() {
        var url = "http://music.163.com/song/media/outer/url?id=32102855.mp3"
        demo.playMusic({
            musics: [{
                name: "Last Reunion",
                filename: url,
                singer: "Peter Roe",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 1,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            }, {
                name: "You",
                filename: "http://music.163.com/song/media/outer/url?id=3932159.mp3",
                singer: "Approaching Nirvana",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 2,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "A Little Story",
                filename: "http://music.163.com/song/media/outer/url?id=857896.mp3",
                singer: "Valentin",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 3,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "Intro",
                filename: "http://music.163.com/song/media/outer/url?id=4017240.mp3",
                singer: "Dreamtale",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 4,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "The Right Path",
                filename: "http://music.163.com/song/media/outer/url?id=2061452.mp3",
                singer: "Thomas Greenberg",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 5,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "いつも何度でも",
                filename: "http://music.163.com/song/media/outer/url?id=480353.mp3",
                singer: "宗次郎",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 6,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "Last Reunion",
                filename: "http://music.163.com/song/media/outer/url?id=402073046.mp3",
                singer: "EpicMusicVn",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 7,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "風の住む街",
                filename: "http://music.163.com/song/media/outer/url?id=586299.mp3",
                singer: "磯村由紀子",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 8,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            },  {
                name: "Summertime",
                filename: "http://music.163.com/song/media/outer/url?id=32166628.mp3",
                singer: "K-391",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 9,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            }, {
                name: "Breath and Life",
                filename: "http://music.163.com/song/media/outer/url?id=3935139.mp3",
                singer: "Audiomachine",
                icon: "http://p1.music.126.net/CjOOps_aDbNVz0JpWyfB5Q==/109951163027939634.jpg?param=130y130",
                other: 10,
                fenxiangSum: 43,
                downmusicSum: 12,
                pinglunSum: 45,
                background: "http://7xwc0t.com1.z0.glb.clouddn.com/apicloud/3a3d926564ab4c5b2292744d5ffb0ec6.jpg"
            }],
            ttf: "widget://res/UKIJTor.ttf",
            downmusicBtn: false,
            fenxiangBtn: true,
            pinglunBtn: true,
            nameTextSize: 20,
            singerTextSize: 16,
            isShowUi: false
        }, function(ret, err) {});
    }

    function show() {
        demo.showUI();
    }

    function close() {
        demo.closeUI();
    }

    function stop() {
        demo.stopMusic();
    }

    function musicPrevious() {
        netplay();
        demo.musicPrevious();
    }


    function musicPlayPause() {
        netplay();
        demo.musicPlayPause();
    }

    function musicNext() {
        netplay();
        demo.musicNext();
    }

    function apiready() {
        demo = api.require('uimusic');
        demo.addEventListener({
            name: "closeui"
        }, function(ret, err) {
            alert("closeui>>addEventListener|" + JSON.stringify(ret));
        });
        demo.addEventListener({
            name: "pinglun"
        }, function(ret, err) {
            alert("pinglun>>addEventListener|" + JSON.stringify(ret));
        });
        demo.addEventListener({
            name: "fenxiang"
        }, function(ret, err) {
            alert("fenxiang>>addEventListener|" + JSON.stringify(ret));
        });
        demo.addEventListener({
            name: "downmusic"
        }, function(ret, err) {
            alert("downmusic>>addEventListener|" + JSON.stringify(ret));
        });

        demo.addEventListener({
            name: "sharetop"
        }, function(ret, err) {
            alert("sharetop>>addEventListener|" + JSON.stringify(ret));
        });
    }
</script>

</html>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript">
// var url=location.search;
// var loc=url.substring(url.lastIndexOf('=')+1,url.length);
var loc=localStorage.getItem('userId');
//插入-可行
function fun(id){
  var myid = id;
  var model=api.require('model');
  model.insert
  model.insert({
      class: 'like',
      value: {userId:loc,music_id:myid}
  },function(ret,err){
    if( ret ){
           alert( JSON.stringify( ret ) );
      }else{
           alert( JSON.stringify( err ) );
      }
  });

}
</script>
