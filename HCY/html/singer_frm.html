<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <link rel="stylesheet" type="text/css" href="../css/aui.css" />
</head>
<body>
  <header class="aui-bar aui-bar-nav" id="aui-header">
      <a class="aui-btn aui-pull-left" tapmode onclick="window.location.href='frame3_frm.html'">
          <span class="aui-iconfont aui-icon-left"></span>
      </a>
      <div class="aui-title">我喜欢的歌手</div>
  </header>
</header>
  <section class="aui-content aui-margin-t-15">
      <ul class="aui-list aui-form-list">
          <li class="aui-list-item">
              <div class="aui-list-item-inner">
                  <div class="aui-list-item-input aui-padded-l-10">
                      <input type="text" placeholder="请输入一个喜欢歌手的名字" id="name" >
                  </div>
              </div>
          </li>
      </ul>
  </section>
  <section class="aui-content-padded">
      <div class="aui-btn aui-btn-block aui-btn-info aui-btn-sm" tapmode onclick="insert()">提交</div>
  </section>
</body>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript">
//插入-可行
function insert(){
  var loc=localStorage.getItem('userId');
  var singer_name=document.getElementById('name').value;
  var model=api.require('model');
  model.config({
    appId : 'A6036872544676',
    appKey : '075A132B-2B11-505D-F01E-FA8B51604C1B',
    host : 'https://d.apicloud.com'
  });
  model.insert({
      class: 'like_singer',
      value: {userId:loc,singer_name:singer_name}
  },function(ret,err){
    if( ret ){
           alert("添加成功");
      }else{
           alert("添加失败");
      }
  });

}
</script>
</html>
